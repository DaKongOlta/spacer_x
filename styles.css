
/* Base */
*{box-sizing:border-box}
body{margin:0;background:#0b0f17;color:#e6edf3;font-family:Arial,Helvetica,sans-serif}
header{padding:16px 0;text-align:center;display:flex;flex-direction:column;align-items:center;gap:6px}
header .logoMark{width:160px;filter:drop-shadow(0 0 12px #0ea5e94d)}
h1{font-family:'Orbitron',sans-serif;margin:0;font-size:34px;letter-spacing:.08em;color:#64ffda;text-shadow:0 0 12px #0ea5e955}
.tagline{margin:0;color:#9ca3af;font-size:14px;letter-spacing:.18em;text-transform:uppercase}
main{width:100%;max-width:1200px;margin:0 auto;padding:10px}
button,select{background:#101827;color:#e6edf3;border:1px solid #2a3441;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
button:hover{background:#162235}
button:disabled{opacity:.45;cursor:not-allowed}
button:disabled:hover{background:#101827}
button.secondary{background:#0d1524;color:#cbd5f5;border-color:#1f2937}
button.secondary:hover{background:#152338}
button.secondary:disabled{color:#64748b;border-color:#1f2937}
button.secondary:disabled:hover{background:#0d1524}
.menuHero{position:relative;width:100%;max-width:760px;min-height:180px;border-radius:18px;overflow:hidden;border:1px solid #1f2a37;background:#0f172a;background-image:linear-gradient(135deg,rgba(15,23,42,.85) 0%,rgba(30,58,138,.65) 60%,rgba(79,70,229,.55) 100%),url('assets/scenes/menu_atrium.svg');background-size:cover;background-position:center;box-shadow:0 18px 60px #0f172a80;display:flex;align-items:flex-end;margin-bottom:18px}
.menuHero .heroOverlay{position:absolute;inset:0;background:radial-gradient(circle at 18% 24%,#38bdf840 0%,transparent 55%),radial-gradient(circle at 84% 10%,#f472b640 0%,transparent 58%),linear-gradient(160deg,rgba(8,11,19,.1) 0%,rgba(8,13,24,.6) 65%,rgba(3,6,12,.9) 100%);mix-blend-mode:screen}
.menuHero .heroContent{position:relative;padding:24px 28px;display:flex;flex-direction:column;gap:10px}
.menuHero h2{margin:0;font-family:'Orbitron',sans-serif;letter-spacing:.16em;text-transform:uppercase;font-size:20px;color:#e0f2fe}
.menuHero p{margin:0;color:#cbd5f5;font-size:14px;max-width:480px}
.heroMeta{display:flex;gap:12px;font-size:12px;text-transform:uppercase;letter-spacing:.14em;color:#38bdf8}
.menuActions{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;width:100%;max-width:760px}
.gpStatus{width:100%;max-width:760px;background:#050910;border:1px solid #1f2937;border-radius:18px;padding:16px 18px;display:grid;gap:14px;box-shadow:0 18px 44px -28px rgba(14,165,233,.55);transition:box-shadow .3s ease,transform .3s ease}
.gpStatus.hidden{display:none}
.gpStatus.isDormant{box-shadow:0 16px 36px -28px rgba(148,163,184,.45);opacity:.9}
.gpStatus header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
.gpStatus header h3{margin:0;font-family:'Orbitron',sans-serif;letter-spacing:.12em;text-transform:uppercase;font-size:15px;color:#e0f2fe}
.gpStatus header p{margin:0;font-size:13px;color:#38bdf8;letter-spacing:.04em}
.gpStatus.isDormant header p{color:#94a3b8}
.gpStatusDetails{margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.gpStatusDetails div{background:#0d1524;border:1px solid #1f2937;border-radius:14px;padding:10px 12px;display:flex;flex-direction:column;gap:6px}
.gpStatusDetails dt{margin:0;text-transform:uppercase;font-size:10px;letter-spacing:.12em;color:#94a3b8}
.gpStatusDetails dd{margin:0;font-size:14px;color:#e2e8f0;font-weight:600;letter-spacing:.02em}
.gpStandings{display:flex;flex-direction:column;gap:8px}
.gpStandings h4{margin:0;font-family:'Orbitron',sans-serif;letter-spacing:.1em;text-transform:uppercase;font-size:12px;color:#cbd5f5}
.gpStandings ol{margin:0;padding:0;list-style:none;display:grid;gap:8px}
.gpStandings li{display:grid;grid-template-columns:1fr auto;gap:4px;align-items:center;background:#0d1524;border:1px solid #1f2937;border-radius:12px;padding:8px 10px;box-shadow:0 10px 28px -24px rgba(15,23,42,.85)}
.gpStandings li .driver{font-weight:600;letter-spacing:.02em;color:#f8fafc}
.gpStandings li .team{grid-column:1/-1;font-size:11px;opacity:.65;letter-spacing:.03em}
.gpStandings li .points{font-variant-numeric:tabular-nums;font-weight:700;color:#38bdf8}
.gpStandings .emptyHint{margin:0;font-size:12px;color:#94a3b8;letter-spacing:.02em}
.gpStandings .emptyHint.hidden{display:none}
.menuTeasers{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;width:100%;max-width:900px;margin-top:8px}
.integrationCard{background:#0d1524;border:1px solid #1f2937;border-radius:16px;padding:14px 16px;display:flex;flex-direction:column;gap:10px;box-shadow:0 12px 28px -24px rgba(14,165,233,.6)}
.integrationCard header{display:flex;align-items:center;gap:12px}
.integrationCard header img{width:48px;height:48px;border-radius:14px;background:#050910;box-shadow:0 0 18px rgba(56,189,248,.35)}
.integrationCard h3{margin:0;font-family:'Orbitron',sans-serif;font-size:15px;letter-spacing:.08em;text-transform:uppercase;color:#e0f2fe}
.integrationCard p{margin:0;font-size:13px;line-height:1.5;color:#cbd5f5}
.integrationCard .status{margin-top:4px;font-size:11px;letter-spacing:.12em;text-transform:uppercase;font-weight:600}
.integrationCard .status.upcoming{color:#facc15}
.integrationCard .status.in-progress{color:#38bdf8}
.integrationCard .status.active{color:#22c55e}
.spriteShowcase{width:100%;max-width:900px;margin:6px auto 0;display:flex;justify-content:center;gap:18px;flex-wrap:wrap}
.spriteShowcase figure{margin:0;background:#050910;border:1px solid #1f2937;border-radius:18px;overflow:hidden;box-shadow:0 20px 50px -30px #000;display:flex;flex-direction:column;gap:8px;max-width:420px}
.spriteShowcase img{width:100%;height:auto;display:block}
.spriteShowcase figcaption{padding:10px 14px;font-size:12px;color:#94a3b8;letter-spacing:.04em}
.screen{display:none}
.screen.active{display:block}
.menu{display:flex;flex-direction:column;gap:14px;align-items:center;justify-content:flex-start;min-height:70vh;padding-top:16px}
.raceLayout{display:grid;grid-template-columns:1fr 320px;gap:12px;align-items:start}
.canvasWrap{position:relative;border:1px solid #1f2a37;border-radius:14px;overflow:hidden;transition:box-shadow .4s ease,transform .4s ease}
.canvasWrap.zoomOn{box-shadow:0 16px 50px #0ea5e980;transform:scale(1.01)}
.canvasWrap.zoomOn[data-weather="clear"]{box-shadow:0 18px 55px rgba(14,165,233,.35)}
.canvasWrap.zoomOn[data-weather="overcast"]{box-shadow:0 16px 50px rgba(148,163,184,.28)}
.canvasWrap.zoomOn[data-weather="storm"]{box-shadow:0 20px 60px rgba(14,165,233,.45)}
.canvasWrap.zoomOn[data-weather="night"]{box-shadow:0 16px 60px rgba(250,204,21,.28)}
.canvasWrap.zoomOn[data-weather="ionstorm"]{box-shadow:0 20px 64px rgba(168,85,247,.4)}
.canvasWrap.zoomOff{box-shadow:none;transform:none}
.minimap{position:absolute;right:8px;top:8px;border:1px solid #2a3441;border-radius:8px;background:#0b0f17a0}
.minimap.isHidden{display:none}
.flag{position:absolute;left:50%;top:10px;transform:translateX(-50%);padding:6px 12px;border-radius:10px;font-weight:800}
.flag.green{background:#064e3b;color:#a7f3d0;border:1px solid #10b981}
.flag.yellow{background:#78350f;color:#fde68a;border:1px solid #f59e0b}
.flag.sc{background:#111827;color:#93c5fd;border:1px dashed #60a5fa}
.flag.restart{background:#0f172a;color:#facc15;border:1px solid #fcd34d}
.sessionBanner{position:absolute;left:50%;top:48px;transform:translateX(-50%);padding:6px 12px;border-radius:12px;background:#0b1220d9;border:1px solid #243049;font-size:12px;letter-spacing:.06em;text-transform:uppercase}
.sessionBanner.hidden{display:none}
.gapHud{position:absolute;left:12px;top:12px;background:#070b13d0;border:1px solid #1e293b;border-radius:10px;padding:6px 10px;font-size:12px;display:flex;flex-direction:column;gap:4px}
.gapHud.hidden{display:none}
.gapHud .label{opacity:.7;text-transform:uppercase;font-size:11px}
.gapHud .delta{font-weight:700}
.gapHud.positive .delta{color:#ef4444}
.gapHud.negative .delta{color:#22c55e}
.gapHud.leader .delta{color:#facc15}
.gapHud.tight .delta{color:#f97316}
.gapHud .gapBar{position:relative;height:6px;border-radius:999px;background:#111827;overflow:hidden}
.gapHud .gapBar .fill{position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(90deg,#22c55e 0%,#ef4444 100%);transition:width .2s ease}
.gapHud.negative .gapBar .fill{background:linear-gradient(90deg,#38bdf8 0%,#22c55e 100%)}
.gapHud.leader .gapBar .fill{background:#facc15}
.startLights{position:absolute;left:50%;top:34%;transform:translateX(-50%);display:flex;gap:12px;padding:12px 22px;border-radius:999px;background:#050912d0;border:1px solid #1e293b;box-shadow:0 16px 40px -22px rgba(15,23,42,.9);backdrop-filter:blur(6px);z-index:6}
.startLights.hidden{display:none}
.startLights.go{animation:startGoFlash .35s ease-out 1}
.startLights .light{width:30px;height:30px;border-radius:50%;background:rgba(148,163,184,.18);box-shadow:inset 0 0 12px rgba(15,23,42,.85);transition:background .18s ease,box-shadow .18s ease,opacity .18s ease}
.startLights .light.on{background:#ef4444;box-shadow:0 0 10px #ef4444,0 0 22px rgba(239,68,68,.65)}
.startLights .light.dimmed{opacity:.25}
.startLights.go .light{background:#22c55e;box-shadow:0 0 14px #22c55e,0 0 28px rgba(34,197,94,.55)}
@keyframes startGoFlash{0%{transform:translateX(-50%) scale(.92);opacity:.75}60%{transform:translateX(-50%) scale(1.05);opacity:1}100%{transform:translateX(-50%) scale(1);opacity:0}}
@keyframes confettiDrift{0%{background-position:0 0,0 0,0 0}100%{background-position:320px 560px,-240px 520px,200px 640px}}
.cameraHud{position:absolute;right:12px;top:160px;background:#070b13d0;border:1px solid #1e293b;border-radius:12px;padding:6px 10px;font-size:11px;display:flex;flex-direction:column;gap:4px;min-width:140px;text-transform:uppercase;letter-spacing:.06em}
.cameraHud .mode{opacity:.75;font-size:10px}
.cameraHud .target{font-size:12px;font-weight:700;color:#f8fafc}
.cameraHud.hidden{display:none}
.leaderboardHud{position:absolute;top:12px;right:220px;width:190px;background:#070b13d0;border:1px solid #1e293b;border-radius:12px;padding:8px 10px;display:flex;flex-direction:column;gap:6px;font-size:11px;backdrop-filter:blur(6px)}
.leaderboardHud.hidden{display:none}
.eventBanner{position:absolute;top:20px;left:24px;min-width:260px;max-width:340px;padding:12px 16px;border-radius:14px;background:#070b13eb;border:1px solid #1e293b;box-shadow:0 20px 44px -28px rgba(15,23,42,.9);backdrop-filter:blur(8px);display:flex;flex-direction:column;gap:4px;transition:opacity .2s ease,transform .2s ease;z-index:6}
.eventBanner.hidden{opacity:0;pointer-events:none;transform:translateY(-12px)}
.eventBanner .primary{text-transform:uppercase;letter-spacing:.12em;font-size:11px;color:#e2e8f0;font-weight:700}
.eventBanner .secondary{font-size:12px;color:#cbd5f5;line-height:1.4}
.eventBanner .secondary.hiddenLine{display:none}
.eventBanner.info{border-left:4px solid #38bdf8}
.eventBanner.pass{border-left:4px solid #22c55e}
.eventBanner.caution{border-left:4px solid #facc15}
.eventBanner.alert{border-left:4px solid #f87171}
.eventBanner.success{border-left:4px solid #4ade80}
.marshalOverlay{position:absolute;left:50%;top:22%;transform:translate(-50%,-40%);display:flex;align-items:center;gap:12px;padding:10px 18px;border-radius:999px;background:rgba(5,9,18,.88);border:1px solid rgba(30,41,59,.9);box-shadow:0 18px 44px -22px rgba(15,23,42,.95);backdrop-filter:blur(6px);z-index:7;transition:opacity .25s ease,transform .25s ease}
.marshalOverlay.hidden{opacity:0;pointer-events:none;transform:translate(-50%,-58%)}
.marshalOverlay .marshalAvatar{width:58px;height:58px;object-fit:contain;image-rendering:pixelated;filter:drop-shadow(0 6px 10px rgba(15,23,42,.6))}
.marshalOverlay .marshalFlags{display:flex;align-items:center;gap:6px}
.marshalOverlay .marshalFlags .flag{width:26px;height:26px;background-image:linear-gradient(45deg,#0f172a 25%,#f9fafb 25%,#f9fafb 50%,#0f172a 50%,#0f172a 75%,#f9fafb 75%);background-size:12px 12px;border:1px solid rgba(15,23,42,.9);border-radius:4px;box-shadow:0 4px 12px rgba(15,23,42,.45);transform-origin:top center;opacity:.85}
.marshalOverlay.wave .marshalFlags .flag.left{animation:marshalWave .4s ease-in-out infinite alternate}
.marshalOverlay.wave .marshalFlags .flag.right{animation:marshalWave .4s ease-in-out infinite alternate .1s}
.marshalOverlay.countdown .marshalFlags .flag,.marshalOverlay.ready .marshalFlags .flag{opacity:.55}
.marshalOverlay .marshalMessage{font-family:"Rajdhani",sans-serif;font-weight:600;font-size:18px;letter-spacing:.08em;text-transform:uppercase;color:#f8fafc;text-shadow:0 0 16px rgba(148,163,184,.45)}
.marshalOverlay.countdown .marshalMessage{color:#facc15}
.marshalOverlay.formation .marshalMessage{color:#38bdf8}
.marshalOverlay.wave .marshalMessage{color:#22c55e}
@keyframes marshalWave{from{transform:rotate(-14deg)}to{transform:rotate(18deg)}}
.leaderboardHud .leaderboardTitle{text-transform:uppercase;letter-spacing:.08em;color:#38bdf8;font-size:10px;opacity:.85}
.leaderboardHud ol{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:4px}
.leaderboardHud li{display:grid;grid-template-columns:24px 1fr;gap:6px;background:#0f172acc;border:1px solid #1e293b;border-radius:10px;padding:4px 6px;font-size:11px;align-items:center}
.leaderboardHud li .pos{font-weight:600;opacity:.75}
.leaderboardHud li .driver{font-weight:600;letter-spacing:.02em}
.leaderboardHud li .gap{font-variant-numeric:tabular-nums;font-size:11px;justify-self:end}
.leaderboardHud li .trend{font-variant-numeric:tabular-nums;font-size:10px;justify-self:end;opacity:.75}
.leaderboardHud li .trend.gain{color:#4ade80}
.leaderboardHud li .trend.loss{color:#f87171}
.leaderboardHud li .team{font-size:10px;opacity:.65;grid-column:1/-1}
.leaderboardHud li.leader{border-color:#38bdf8}
.leaderboardHud li.charge{border-color:#f97316}
.leaderboardHud li.gain{border-color:#22c55e}
.leaderboardHud li.loss{border-color:#f87171}
.splitsPanel{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:8px;display:flex;flex-direction:column;gap:6px}
.splitsHeader{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#38bdf8}
.sectorWidget{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:4px;max-height:140px;overflow:auto;font-size:12px}
.sectorWidget li{display:flex;justify-content:space-between;gap:6px;background:#0f172a;border:1px solid #1e293b;border-radius:8px;padding:4px 6px}
.sectorWidget li.pb .value{color:#22c55e}
.sectorWidget li.fl .value{color:#facc15}
.sectorWidget .tag{font-size:11px;opacity:.75}
.sectorWidget .value{font-variant-numeric:tabular-nums}
.fastestLap{font-size:12px;opacity:.9}
.fastestLap .highlight{color:#f97316;font-weight:600}
.flag.hidden{display:none}
.top3{position:absolute;left:50%;bottom:8px;transform:translateX(-50%);background:#0b1220d0;border:1px solid #243049;border-radius:10px;padding:6px 10px;font-size:13px;z-index:2}
.restartHold{position:absolute;left:50%;bottom:46px;transform:translateX(-50%);padding:8px 14px;border-radius:999px;background:rgba(15,23,42,.88);border:1px solid rgba(59,130,246,.5);box-shadow:0 10px 32px rgba(15,23,42,.45);font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:#e0f2fe;font-weight:600;display:flex;align-items:center;gap:8px;z-index:3;transition:opacity .3s ease,transform .3s ease;opacity:1;visibility:visible}
.restartHold::before{content:"âš‘";font-size:14px;color:#38bdf8;filter:drop-shadow(0 0 6px rgba(56,189,248,.6))}
.restartHold.hidden{opacity:0;visibility:hidden;transform:translate(-50%,10px);pointer-events:none}
.broadcastIntro{position:absolute;inset:0;display:flex;align-items:flex-end;justify-content:center;padding:32px;background:rgba(3,7,18,.62);backdrop-filter:blur(12px);transition:opacity .3s ease,visibility .3s ease;z-index:5}
.broadcastIntro.hidden{opacity:0;visibility:hidden;pointer-events:none}
.broadcastCard{width:100%;max-width:520px;background:rgba(11,17,29,.95);border:1px solid rgba(30,41,59,.9);border-radius:20px;padding:22px 24px;box-shadow:0 24px 52px -28px rgba(8,15,26,.85);display:flex;flex-direction:column;gap:16px}
.broadcastHeader{display:flex;align-items:center;justify-content:space-between;gap:12px}
.broadcastHeader .title{text-transform:uppercase;letter-spacing:.18em;font-size:11px;color:#38bdf8;opacity:.88}
.broadcastHeader button{background:transparent;border:1px solid rgba(148,163,184,.5);color:#e2e8f0;border-radius:999px;padding:6px 18px;font-size:12px;letter-spacing:.04em;text-transform:uppercase;cursor:pointer;transition:background .2s ease,color .2s ease,border-color .2s ease}
.broadcastHeader button:hover{background:#38bdf8;color:#020617;border-color:#38bdf8}
.broadcastLead h3{margin:0;font-size:20px;color:#f8fafc;letter-spacing:.05em}
.broadcastLead p{margin:6px 0 0;color:#cbd5f5;font-size:13px;line-height:1.6}
.broadcastLeaders{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:6px}
.broadcastLeaders li{display:grid;grid-template-columns:26px 1fr auto;grid-template-rows:auto auto;align-items:center;gap:6px 12px;background:#0f172a;border:1px solid rgba(51,65,85,.7);border-radius:12px;padding:8px 12px;color:#e2e8f0;font-size:12px}
.broadcastLeaders li .rank{font-weight:700;color:#38bdf8;letter-spacing:.08em;grid-row:1/span 2;align-self:center}
.broadcastLeaders li .driver{font-weight:600;grid-column:2;grid-row:1}
.broadcastLeaders li .team{font-size:11px;opacity:.72;grid-column:2;grid-row:2}
.broadcastLeaders li .pace{font-variant-numeric:tabular-nums;font-size:11px;color:#94a3b8;grid-column:3;grid-row:1/span 2;justify-self:end}
.broadcastLeaders li.empty{display:flex;grid-template-columns:none;grid-template-rows:none;justify-content:center;align-items:center;gap:0;font-size:11px;opacity:.7}
.gridIntro{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#050912d9;backdrop-filter:blur(8px);transition:opacity .3s ease,visibility .3s ease;z-index:4;padding:24px}
.gridIntro.hidden{opacity:0;visibility:hidden;pointer-events:none}
.gridIntroCard{background:#0b1220f2;border:1px solid #1e293b;border-radius:16px;padding:18px 20px;max-width:460px;width:100%;box-shadow:0 18px 38px -24px #000}
.gridIntroHeader{display:flex;flex-direction:column;gap:4px;margin-bottom:12px}
.gridIntroHeader .title{text-transform:uppercase;letter-spacing:.12em;font-size:12px;color:#38bdf8;opacity:.9}
.gridIntroHeader .meta{font-size:13px;color:#e2e8f0;line-height:1.4}
.gridIntroList{margin:0;padding:0 0 0 20px;display:flex;flex-direction:column;gap:6px;color:#f8fafc;font-size:13px}
.gridIntroList li{background:#0f172a;border:1px solid #1e293b;border-radius:10px;padding:8px 10px;list-style-position:inside;display:flex;flex-direction:column;gap:4px}
.gridIntroList li strong{font-size:13px;letter-spacing:.02em}
.gridIntroList li span{font-size:11px;opacity:.78}
.gridIntroList li.highlight{border-color:#38bdf8;box-shadow:0 0 0 1px rgba(56,189,248,.3)}
.gridIntroFooter{display:flex;justify-content:space-between;align-items:center;margin-top:16px;font-size:11px;color:#94a3b8;gap:12px;flex-wrap:wrap}
.gridIntroFooter button{background:#38bdf8;border:none;color:#020617;font-weight:600;border-radius:999px;padding:6px 16px;cursor:pointer;font-size:12px;letter-spacing:.04em;text-transform:uppercase}
.gridIntroFooter button:hover{background:#7dd3fc}
.gridIntroFooter .autoHint{opacity:.8}
.podiumOverlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#050912cc;backdrop-filter:blur(10px);z-index:5;transition:opacity .3s ease,visibility .3s ease;padding:24px;overflow:hidden}
.podiumOverlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
.podiumOverlay.celebrate::before,.podiumOverlay.celebrate::after{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 20% 20%,rgba(59,130,246,.4)0,rgba(59,130,246,0)60%),radial-gradient(circle at 80% 30%,rgba(248,113,113,.45)0,rgba(248,113,113,0)55%),radial-gradient(circle at 40% 70%,rgba(34,197,94,.4)0,rgba(34,197,94,0)55%);background-size:160px 160px,140px 140px,180px 180px;mix-blend-mode:screen;opacity:.22;pointer-events:none;animation:confettiDrift 14s linear infinite}
.podiumOverlay.celebrate::after{animation-delay:-5s;opacity:.18;background-image:radial-gradient(circle at 10% 60%,rgba(190,242,100,.45)0,rgba(190,242,100,0)55%),radial-gradient(circle at 70% 80%,rgba(244,114,182,.42)0,rgba(244,114,182,0)55%),radial-gradient(circle at 50% 10%,rgba(96,165,250,.4)0,rgba(96,165,250,0)60%)}
.podiumOverlay:not(.celebrate)::before,.podiumOverlay:not(.celebrate)::after{display:none}
.podiumOverlay.celebrate .podiumInner{box-shadow:0 40px 90px -48px rgba(56,189,248,.75),0 0 0 1px rgba(56,189,248,.18)}
.podiumInner{background:#0b1220f2;border:1px solid #1e293b;border-radius:18px;padding:26px 28px;max-width:440px;width:100%;box-shadow:0 30px 68px -40px #000;text-align:center}
.podiumInner h3{margin:0 0 18px;font-size:18px;letter-spacing:.14em;text-transform:uppercase;color:#38bdf8}
.podiumList{margin:0 0 18px;padding:0;list-style:none;display:flex;flex-direction:column;gap:12px}
.podiumList li{display:flex;align-items:center;justify-content:space-between;background:#0f172a;border:1px solid #1e293b;border-radius:14px;padding:10px 14px;color:#f8fafc;gap:12px}
.podiumList li .meta{display:flex;flex-direction:column;align-items:flex-start;gap:4px;font-size:13px}
.podiumList li .meta span{opacity:.78;font-size:11px}
.podiumList li .pos{font-size:18px;font-weight:700;letter-spacing:.08em;min-width:32px;text-align:left}
.podiumList li.gold{border-color:#facc15;background:linear-gradient(135deg,rgba(250,204,21,.18),rgba(15,23,42,.95))}
.podiumList li.silver{border-color:#e2e8f0;background:linear-gradient(135deg,rgba(226,232,240,.12),rgba(15,23,42,.95))}
.podiumList li.bronze{border-color:#f97316;background:linear-gradient(135deg,rgba(249,115,22,.15),rgba(15,23,42,.95))}
#podiumCloseBtn{background:#38bdf8;border:none;color:#020617;font-weight:600;padding:8px 20px;border-radius:999px;text-transform:uppercase;letter-spacing:.08em;cursor:pointer;font-size:12px}
#podiumCloseBtn:hover{background:#7dd3fc}
.podiumOverlay.celebrate #podiumCloseBtn{box-shadow:0 0 0 1px rgba(56,189,248,.35),0 10px 18px -12px rgba(56,189,248,.8)}
.podiumOverlay.celebrate #podiumCloseBtn:hover{box-shadow:0 0 0 1px rgba(125,211,252,.55),0 12px 24px -14px rgba(125,211,252,.9)}
.ticker{position:absolute;left:0;bottom:0;width:100%;padding:6px 10px;background:#070b13d0;border-top:1px solid #1e293b;font-size:12px;white-space:nowrap;overflow:hidden}
.sidebar{display:flex;flex-direction:column;gap:10px}
.optionsRow{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:6px 0}
.eventBriefing{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:6px;min-height:88px}
.eventBriefing .eventHeader{display:flex;justify-content:space-between;align-items:center;font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#38bdf8}
.eventBriefing .trackLabel{font-size:13px;font-weight:700;color:#f8fafc}
.eventBriefing .weatherTag{font-size:11px;font-weight:600;background:#0f172a;border:1px solid #1e293b;border-radius:999px;padding:3px 10px;color:#cbd5f5}
.eventBriefing[data-weather="storm"] .weatherTag{color:#7dd3fc;border-color:#0ea5e9}
.eventBriefing[data-weather="night"] .weatherTag{color:#facc15;border-color:#facc15}
.eventBriefing[data-weather="ionstorm"] .weatherTag{color:#a855f7;border-color:#a855f7}
.eventWeatherDesc{font-size:11px;color:#94a3b8;line-height:1.4}
.eventTraits{display:flex;flex-wrap:wrap;gap:6px;font-size:11px}
.eventTraits span{background:#0f172a;border:1px solid #1e293b;border-radius:999px;padding:2px 10px;color:#cbd5f5}
.eventBriefing[data-weather="storm"] .eventTraits span{border-color:#0ea5e9}
.eventBriefing[data-weather="night"] .eventTraits span{border-color:#facc15}
.eventBriefing[data-weather="ionstorm"] .eventTraits span{border-color:#a855f7}
.telemetry{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:8px}
.telemetry ul{list-style:none;margin:0;padding:0;max-height:320px;overflow:auto;font-size:13px;display:flex;flex-direction:column;gap:6px}
.telemetry li{display:grid;grid-template-columns:36px 1fr;grid-template-areas:'pos driver' 'lap lapTimes' 'chassis chassis' 'gap gap';row-gap:2px;background:#0f172a;border:1px solid #1e293b;border-radius:10px;padding:6px 8px;transition:background .2s ease;cursor:pointer}
.telemetry li .pos{grid-area:pos;font-weight:600;opacity:.8}
.telemetry li .driver{grid-area:driver;font-weight:600;font-size:13px;letter-spacing:.02em}
.telemetry li .lap{grid-area:lap;font-size:11px;opacity:.75}
.telemetry li .lapTimes{grid-area:lapTimes;font-size:11px;opacity:.8}
.telemetry li .chassis{grid-area:chassis;font-size:10px;text-transform:uppercase;letter-spacing:.08em;opacity:.65}
.telemetry li .gap{grid-area:gap;font-size:12px;font-weight:600}
.telemetry li.focus{border-color:#38bdf8;background:#0b1e33}
.telemetry li:hover{background:#12213a}
.telemetry li .statusBadge{font-size:10px;margin-left:6px;padding:2px 6px;border-radius:6px;background:#1e293b}
.telemetry li .statusBadge.hot{background:#7f1d1d;color:#fecaca}
.telemetry li .statusBadge.cool{background:#064e3b;color:#bbf7d0}
.liveTickerPanel{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:8px;display:flex;flex-direction:column;gap:6px}
.liveTickerHeader{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#38bdf8}
.liveTickerList{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:4px;max-height:160px;overflow:auto;font-size:11px}
.liveTickerList li{display:flex;justify-content:space-between;gap:8px;background:#0f172acc;border:1px solid #1e293b;border-radius:8px;padding:4px 6px}
.liveTickerList li .stamp{opacity:.6;font-variant-numeric:tabular-nums}
.liveTickerList li .message{flex:1}
.liveTickerList li.empty{justify-content:center;color:#64748b;font-style:italic}
.liveTickerList li.yellow{border-color:#f59e0b;color:#facc15}
.liveTickerList li.sc{border-color:#7dd3fc;color:#bfdbfe}
.liveTickerList li.fl{border-color:#f97316;color:#fdba74}
.liveTickerList li.pb{border-color:#22c55e;color:#86efac}
.liveTickerList li.finish{border-color:#38bdf8;color:#bae6fd}
.liveTickerList li.alert{border-color:#f87171;color:#fecaca}
.focusPanel{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:8px;transition:opacity .3s ease}
.focusPanel.inactive{opacity:.6}
.focusPanel.isHidden{display:none}
.focusHeader{display:flex;justify-content:space-between;align-items:center;font-size:13px;text-transform:uppercase;letter-spacing:.08em;color:#38bdf8}
.focusMeta{font-size:12px;color:#cbd5f5;opacity:.85}
.focusStats{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px;font-size:11px}
.focusStats .row{background:#0f172a;border:1px solid #1e293b;border-radius:8px;padding:6px;display:flex;flex-direction:column;gap:4px}
.focusStats .label{opacity:.6;text-transform:uppercase;font-size:10px}
.focusStats .value{font-variant-numeric:tabular-nums;font-size:12px;font-weight:600}
.trend{padding:2px 8px;border-radius:6px;font-size:11px;background:#1e293b;color:#e0f2fe}
.trend.good{background:#064e3b;color:#bbf7d0}
.trend.bad{background:#7f1d1d;color:#fecaca}
.trend.neutral{background:#1e293b;color:#cbd5f5}
.raceControlPanel{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:8px}
.raceControlPanel.isHidden{display:none}
.rcHeader{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#38bdf8}
.raceControlLog{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px;max-height:160px;overflow:auto;font-size:11px}
.raceControlLog li{display:flex;justify-content:space-between;gap:10px;background:#0f172a;border:1px solid #1e293b;border-radius:8px;padding:6px 8px}
.raceControlLog li .time{opacity:.6;font-variant-numeric:tabular-nums}
.raceControlLog li.info{border-color:#1e40af}
.raceControlLog li.warn{border-color:#f59e0b;color:#facc15}
.raceControlLog li.alert{border-color:#f87171;color:#fecaca}
.raceControlLog li.success{border-color:#22c55e;color:#bbf7d0}
.statsRow{display:flex;justify-content:space-between;font-size:12px;margin-bottom:6px;opacity:.85}
.controls{display:flex;flex-wrap:wrap;gap:8px}
.replayControls{margin-top:12px;display:flex;align-items:center;gap:12px;background:#0b1220;border:1px solid #1e293b;border-radius:12px;padding:10px 12px;font-size:12px;box-shadow:0 20px 38px -40px #000;color:#e2e8f0}
.replayControls.hidden{display:none}
.replayControls .replayToggle{background:#38bdf8;border:none;color:#020617;font-weight:700;width:34px;height:34px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease}
.replayControls .replayToggle:hover{background:#7dd3fc}
.replayControls input[type=range]{flex:1;accent-color:#38bdf8;height:4px}
.replayControls .replayTime{min-width:120px;text-align:center;font-variant-numeric:tabular-nums;font-size:12px;color:#94a3b8}
.replayControls .replaySpeedLabel{display:flex;align-items-center;gap:6px;font-size:12px;color:#cbd5f5}
.replayControls select{background:#0f172a;border:1px solid #1f2937;color:#e2e8f0;border-radius:8px;padding:4px 8px;font-size:12px}
.replayControls select:focus{outline:1px solid #38bdf8;outline-offset:1px}
.results{white-space:pre-wrap;background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:8px;min-height:90px}
.posFlash{animation:flash .45s ease}
@keyframes flash{0%{background:#052e2b}100%{background:transparent}}
.gapPlus{color:#ef4444}.gapMinus{color:#10b981}

/* Manager Mode */
.managerIntro,.bettingIntro{opacity:.8;font-size:14px;margin:6px 0 14px}
.managerLayout{display:grid;grid-template-columns:260px 1fr;gap:14px;margin:12px 0;align-items:start}
.managerSidebar{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:12px}
.managerSidebar select{width:100%}
.managerInfo{display:flex;flex-direction:column;gap:4px;font-size:13px}
.managerInfo div span{font-weight:600;color:#f8fafc}
.upgradeControls{display:flex;flex-direction:column;gap:8px}
.managerPersistence{display:flex;flex-direction:column;gap:8px}
.managerPersistence .importLabel{position:relative;overflow:hidden;border:1px dashed #334155;padding:8px 10px;border-radius:10px;text-align:center;font-size:12px}
.managerPersistence .importLabel input{position:absolute;inset:0;opacity:0;cursor:pointer}
.managerDetail{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:12px}
.contractList{display:flex;flex-direction:column;gap:10px}
.contractCard{background:#0f172a;border:1px solid #1e293b;border-radius:10px;padding:8px;display:flex;flex-direction:column;gap:4px;font-size:13px}
.contractCard.expiring{border-color:#f59e0b}
.contractCard strong{color:#f8fafc;font-size:15px}
.contractCard .actions{display:flex;gap:8px;flex-wrap:wrap}
.upgradeStatus{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px;font-size:13px}
.upgradeCard{background:#0f172a;border:1px solid #1e293b;border-radius:10px;padding:8px;display:flex;flex-direction:column;gap:4px}
.managerNotice{min-height:32px;font-size:12px;color:#38bdf8;transition:color .3s ease}
.managerNotice.error{color:#f87171}
.managerNotice.success{color:#34d399}
.managerNotice.warn{color:#facc15}
.contractHint{font-size:12px;color:#facc15}
.managerActions{display:flex;gap:10px;flex-wrap:wrap}
.managerActions button{flex:0 0 auto}
.freeAgentList{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
.freeAgentCard{background:rgba(15,23,42,.75);border:1px solid #1e293b;border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:6px}
.freeAgentCard .headline{display:flex;justify-content:space-between;font-weight:600;color:#f8fafc}
.freeAgentCard .meta{display:flex;justify-content:space-between;font-size:12px;opacity:.82}
.freeAgentCard button{align-self:flex-start}
.freeAgentCard.unavailable{opacity:.55}

button.primary{background:#155e75;border-color:#0ea5e9}
button.primary:hover{background:#0f4c63}

/* Betting Mode */
.bettingLayout{display:grid;grid-template-columns:320px 1fr;gap:16px;margin:12px 0;align-items:start}
.bettingPanel,.oddsBoard{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:10px}
.betSlip{min-height:48px;background:#0f172a;border:1px dashed #1e293b;border-radius:10px;padding:8px;font-size:13px}
#oddsTable{width:100%;border-collapse:collapse;font-size:13px}
#oddsTable th,#oddsTable td{padding:6px;border-bottom:1px solid #1e293b;text-align:left}
#oddsTable tbody tr:nth-child(even){background:#101a2a}
.betHistory{margin-top:12px;font-size:12px;display:flex;flex-direction:column;gap:6px;max-height:220px;overflow:auto}
.betHistory .win{color:#22c55e}
.betHistory .loss{color:#ef4444}
.hudSettings{margin:18px 0 10px;display:flex;flex-direction:column;gap:6px;background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:12px}
.hudSettings h3{margin:0;font-size:12px;text-transform:uppercase;letter-spacing:.1em;color:#38bdf8}
.hudSettings label{font-size:12px;display:flex;align-items:center;gap:6px}
.hudSettings input{accent-color:#38bdf8}
.simSettings{margin:18px 0;display:flex;flex-direction:column;gap:10px;background:#0b1322;border:1px solid #1b2738;border-radius:12px;padding:12px}
.simSettings h3{margin:0;font-size:12px;text-transform:uppercase;letter-spacing:.1em;color:#38bdf8}
.simSettings label{font-size:12px;display:flex;flex-direction:column;gap:6px;color:#e2e8f0}
.simSettings select{background:#111a2a;border:1px solid #1f2937;border-radius:8px;padding:6px 8px;color:#e2e8f0;font-size:12px}
.dataSettings{margin:20px 0 10px;display:flex;flex-direction:column;gap:10px;background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:12px}
.dataSettings h3{margin:0;font-size:12px;text-transform:uppercase;letter-spacing:.1em;color:#38bdf8}
.saveActions{display:flex;flex-wrap:wrap;gap:10px}
.saveActions button{flex:0 0 auto}
.dataHint{font-size:12px;color:#93c5fd;opacity:.8;margin:0}
button.danger{background:#7f1d1d;border-color:#b91c1c;color:#f8fafc}
button.danger:hover{background:#991b1b}
.settingsNotice{min-height:20px;font-size:12px;color:#93c5fd;opacity:0;transition:opacity .3s ease}
.settingsNotice.visible{opacity:1}
.settingsNotice.success{color:#34d399}
.settingsNotice.error{color:#f87171}
.settingsNotice.info{color:#93c5fd}

.isHidden{display:none!important}

/* Codex */
.codexIntro{opacity:.78;font-size:14px;margin:6px 0 16px;max-width:780px}
.codexLayout{display:grid;grid-template-columns:1fr 320px;gap:16px;margin-bottom:16px}
.codexColumn{background:#0d1524;border:1px solid #1e293b;border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:12px}
.codexColumn.archive{background:#0b1220}
.codexColumn h3{margin:0;font-size:13px;text-transform:uppercase;letter-spacing:.1em;color:#38bdf8}
.contentRoadmap{display:flex;flex-direction:column;gap:12px;margin-bottom:12px}
.roadmapCard{background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:10px 12px;display:flex;flex-direction:column;gap:6px}
.roadmapCard header{display:flex;justify-content:space-between;align-items:center;gap:8px}
.roadmapCard header strong{font-size:13px;color:#f8fafc;letter-spacing:.06em;text-transform:uppercase}
.roadmapCard header .badge{font-size:11px;letter-spacing:.12em;text-transform:uppercase;padding:2px 8px;border-radius:999px;background:#111c2f;color:#7dd3fc}
.roadmapCard header .badge.done{color:#22c55e;background:#052e16}
.roadmapCard header .badge.progress{color:#facc15;background:#422006}
.roadmapCard header .badge.next{color:#38bdf8;background:#0b1d3c}
.roadmapCard ul{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:4px;font-size:12px;color:#cbd5f5}
.roadmapCard li span{display:inline-flex;align-items:center;gap:6px}
.roadmapCard li .dot{width:6px;height:6px;border-radius:50%;background:#38bdf8;display:inline-block}
.roadmapCard li .dot.done{background:#22c55e}
.roadmapCard li .dot.pending{background:#475569}
.spriteGallery{margin:12px 0 0;background:#050910;border:1px solid #1f2937;border-radius:16px;padding:10px 12px;display:flex;flex-direction:column;gap:8px;box-shadow:0 18px 36px -28px #000}
.spriteGallery img{width:100%;height:auto;border-radius:12px}
.spriteGallery p{margin:0;font-size:12px;color:#94a3b8;line-height:1.4}
.loreEntries,.driverCodex,.codexGarage,.raceArchive,.hallOfFame{display:flex;flex-direction:column;gap:10px}
.loreCard,.driverCard,.garageCard,.archiveEntry,.fameEntry{background:#0f172a;border:1px solid #1e293b;border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:6px}
.loreCard strong{color:#f8fafc;font-size:14px}
.loreCard span{font-size:11px;opacity:.78}
.driverCard header{display:flex;justify-content:space-between;align-items:center;color:#f8fafc;font-size:13px;font-weight:600}
.driverCard .persona{font-size:11px;text-transform:uppercase;letter-spacing:.08em;color:#38bdf8}
.driverCard .traitLine{display:flex;flex-wrap:wrap;gap:6px;font-size:11px;opacity:.85}
.driverCard .traitLine span{background:rgba(56,189,248,.12);padding:2px 6px;border-radius:6px;border:1px solid rgba(56,189,248,.18)}
.driverCard .metrics{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:6px;font-size:11px}
.driverCard .metrics span{background:rgba(148,163,184,.12);border:1px solid rgba(148,163,184,.18);border-radius:6px;padding:2px 6px}
.driverCard footer{font-size:11px;opacity:.7;display:flex;justify-content:space-between;gap:8px;flex-wrap:wrap}
.garageCard header{display:flex;justify-content:space-between;align-items:center;font-size:13px;font-weight:600}
.garageCard .stats{display:flex;flex-wrap:wrap;gap:6px;font-size:11px;opacity:.75}
.garageCard .summary{font-size:12px;opacity:.82}
.archiveEntry header{display:flex;justify-content:space-between;font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:#38bdf8}
.archiveEntry .podium{display:flex;flex-direction:column;gap:4px;font-size:12px}
.archiveEntry .meta{font-size:11px;opacity:.75}
.hallOfFame .fameEntry{border-color:#334155}
.fameEntry strong{font-size:14px;color:#facc15}
.fameEntry span{font-size:12px;opacity:.8}

@media (max-width:980px){
  .raceLayout{grid-template-columns:1fr}
  .managerLayout,.bettingLayout{grid-template-columns:1fr}
  .menuHero{max-width:100%}
  .menuActions{max-width:100%}
  .codexLayout{grid-template-columns:1fr}
}
